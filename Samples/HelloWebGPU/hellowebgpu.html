<!doctype html>
<html lang="en-us">

<body>

  <span id='controls'>
    <span><input type="checkbox" id="resize">Resize canvas</span>
    <span><input type="checkbox" id="pointerLock" checked>Lock/hide mouse pointer &nbsp;&nbsp;&nbsp;</span>
    <span><input type="button" value="Fullscreen"
        onclick="Module.requestFullscreen(document.getElementById('pointerLock').checked, document.getElementById('resize').checked)">
    </span>
  </span>

  <div class="emscripten_border">
    <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" tabindex=-1></canvas>
  </div>

  <script type='text/javascript'>
    var Module;
    (async () => {
      Module = {
        canvas: function () {
          var e = document.getElementById("canvas");
          return e.addEventListener("webglcontextlost", function (e) {
            alert("WebGL context lost. You will need to reload the page."),
              e.preventDefault()
          }, !1),
            e
        }(),
      }
      {
        const adapter = await navigator.gpu.requestAdapter();
        const device = await adapter.requestDevice();
        Module.preinitializedWebGPUDevice = device;
      }
    })();
  </script>
  <script async type="text/javascript" src="hellowebgpu.js"></script>
</body>

</html>